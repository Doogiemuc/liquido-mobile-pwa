@startuml
:Open liquido.me
with JWT;
split
 :""/ideas"">
 split
   :select idea\n""/ideas/{id}"";
   if (isOwnIdea) then (yes)
     :edit own idea\n""/ideas/{id}"";
   else (optionally)
     :like idea;
   endif
 split again
  :add new idea\n""POST /ideas"";
 end split
split again
 :""/proposals"">
 :select a proposal\n""/proposals/{{id}}"";
 if (isOwnProposal\nin elaboration) then (yes)
   :edit own\nproposal;
 else (optionally)
   :add comment\nto proposal;
   :like proposal;
 endif
split again
 :""/polls"">
 split
  :discussion]
  :select a poll
  ""/polls/{id}"";
  :add a comment to\nproposal in poll;
 split again
  :voting]
  :cast Vote\n""/polls/{id}}/castVote""|
  :fetch voter_token\nand cast vote;
 split again
  :finished]
  :show\nfinished polls;
 end split

end split
:finish;
@enduml